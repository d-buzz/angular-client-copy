<main>
  <div class="list-group rounded-circle" *ngFor="let row of data;let i =index;">
    <div class="section-blog-list profile-item">
      <div class="list-group-item list-group-item-action flex-column align-items-start">
        <div class="media align-items-center ml-2">
          <span class="avatar avatar-sm rounded-circle">
            <a [routerLink]="['/profile/','@'+row.username]">
              <img alt="Image placeholder" src="{{ row.author_accounts?.author_profile_pic }}"
                onError="this.src='assets/avatars/AVATAR.svg'" width="40" height="40" /></a>
          </span>
          <div class="media-body ml-2">
            <span class="mb-0 link">
              <span class="username mb-0 url">
                <a [routerLink]="['/profile/','@'+row.username]">
                  <b>{{ row.author_accounts.author_name | lettercase:'ucfirst' }}</b>
                </a>
              </span>
              <!--Added Verified Badge-->
            <span class="mb-0 ml-1 verified-badge" *ngIf="twitter_verification_enable && row.author_accounts.is_verified==1">
              <img class="icon-forward" alt="Reply Icon" src="./assets/img/icons/common/verified.svg">
            </span>
            <!--End Verified Badge-->
            </span>
            <br />
            <span class="username" [routerLink]="['/profile/','@'+row.username]"> @{{ row.username }}</span>
            &nbsp;<small class="badge badge-default" *ngIf="row.username !== auth_username && row.is_followed">Follows
              You</small>
            <br />
            <span class="about">{{ row.author_accounts.author_profile.profile.about | lettercase:'utf8' }}</span>
          </div>
          <span class=" text-right mr-2" *ngIf="row.username !== auth_username">
            <button class="btn btn-primary btn-round" type="button" *ngIf="row.is_following && !row.following"
              (click)="follow(row)">Following</button>
            <button class="btn btn-outline-danger btn-round" type="button" *ngIf="!row.is_following && !row.following"
              (click)="follow(row)">Follow</button>
            <button class="btn btn-outline-danger btn-round" type="button" *ngIf="row.following"><i
                class="fa fa-spinner fa-spin"></i></button>
          </span>
        </div>
      </div>
    </div>
  </div>
  <div style="text-align: center;" class="mt-3 mb-2">
    <span *ngIf="searching">Loading...<i class="fa fa-refresh fa-spin"></i></span>
    <span *ngIf="!searching && data.length == 0">No user found</span>
  </div>
</main>